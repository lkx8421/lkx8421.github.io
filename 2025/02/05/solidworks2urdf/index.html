<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"example.com","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.22.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"style":null,"show_result":false},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="这是一份将solidworks模型导出为urdf文件，并应用于webots仿真环境的说明文档">
<meta property="og:type" content="article">
<meta property="og:title" content="一份基于solidworks导出urdf文件应用于webots仿真的说明文档">
<meta property="og:url" content="http://example.com/2025/02/05/solidworks2urdf/index.html">
<meta property="og:site_name" content="Cauchy">
<meta property="og:description" content="这是一份将solidworks模型导出为urdf文件，并应用于webots仿真环境的说明文档">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-13.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-11.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-12.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-10.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-9.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-1.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-2.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-3.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-4.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-5.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-6.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-7.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-8.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/image.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/image-1.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-14.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-15.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-16.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-17.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-18.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-19.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-20.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-21.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-22.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-23.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-24.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-25.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-26.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-27.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-28.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-29.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-30.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-31.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-32.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-33.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-34.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-35.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-36.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-37.png">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-38.png">
<meta property="og:image" content="http://example.com/">
<meta property="og:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-40.png">
<meta property="article:published_time" content="2025-02-05T07:06:02.000Z">
<meta property="article:modified_time" content="2025-02-06T08:11:28.643Z">
<meta property="article:author" content="liukexin">
<meta property="article:tag" content="webots">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-13.png">


<link rel="canonical" href="http://example.com/2025/02/05/solidworks2urdf/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://example.com/2025/02/05/solidworks2urdf/","path":"2025/02/05/solidworks2urdf/","title":"一份基于solidworks导出urdf文件应用于webots仿真的说明文档"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>一份基于solidworks导出urdf文件应用于webots仿真的说明文档 | Cauchy</title>
  








  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Cauchy</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E7%8E%AF%E5%A2%83"><span class="nav-number">1.</span> <span class="nav-text">使用环境</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E9%80%9A%E8%BF%87solidworks%E5%AF%BC%E5%87%BAURDF%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE"><span class="nav-number">2.</span> <span class="nav-text">一、通过solidworks导出URDF文件配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E5%BB%BA%E6%A8%A1%E8%BD%AF%E4%BB%B6%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="nav-number">2.1.</span> <span class="nav-text">1、建模软件插件安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81URDF%E6%96%87%E4%BB%B6%E5%AF%BC%E5%87%BA%E5%89%8D%E9%85%8D%E7%BD%AE%E5%9D%90%E6%A0%87%E7%B3%BB%E4%BF%A1%E6%81%AF%EF%BC%9A"><span class="nav-number">2.2.</span> <span class="nav-text">2、URDF文件导出前配置坐标系信息：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E5%AF%BC%E5%87%BAURDF%E6%96%87%E4%BB%B6"><span class="nav-number">2.3.</span> <span class="nav-text">3、导出URDF文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E6%A3%80%E6%9F%A5%E5%AF%BC%E5%87%BAurdf%E6%96%87%E4%BB%B6%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE"><span class="nav-number">3.</span> <span class="nav-text">二、检查导出urdf文件是否正确</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E5%9C%A8%E7%BA%BFurdf%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-number">3.1.</span> <span class="nav-text">1、在线urdf可视化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E9%80%9A%E8%BF%87matlab%E4%B8%AD%E7%9A%84simscape%E6%9D%A5%E6%A3%80%E6%9F%A5%E6%A8%A1%E5%9E%8B%E6%98%AF%E5%90%A6%E6%AD%A3%E7%A1%AE%EF%BC%88%E9%9D%9E%E5%BF%85%E9%A1%BB%EF%BC%89%EF%BC%88%E5%88%A0%E9%99%A4%EF%BC%89"><span class="nav-number">3.2.</span> <span class="nav-text">1、通过matlab中的simscape来检查模型是否正确（非必须）（删除）</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAWebots%E5%B7%A5%E7%A8%8B"><span class="nav-number">4.</span> <span class="nav-text">三、新建一个Webots工程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81webots%E5%AE%89%E8%A3%85"><span class="nav-number">4.1.</span> <span class="nav-text">1、webots安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E6%96%B0%E5%BB%BA%E4%B8%80%E4%B8%AAwebots%E5%B7%A5%E7%A8%8B"><span class="nav-number">4.2.</span> <span class="nav-text">2、新建一个webots工程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E5%B0%86%E7%94%9F%E6%88%90%E7%9A%84urdf%E6%96%87%E4%BB%B6%E5%AF%BC%E5%85%A5%E5%9C%A8webots%E5%B7%A5%E7%A8%8B%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B"><span class="nav-number">4.3.</span> <span class="nav-text">3、将生成的urdf文件导入在webots工程文件夹下</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E7%94%9F%E6%88%90%E7%94%A8%E4%BA%8Ewebots%E4%BB%BF%E7%9C%9F%E4%B8%AD%E7%9A%84proto%E6%A8%A1%E5%9E%8B"><span class="nav-number">5.</span> <span class="nav-text">四、生成用于webots仿真中的proto模型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E5%AE%89%E8%A3%85urdf2webots"><span class="nav-number">5.1.</span> <span class="nav-text">1、安装urdf2webots</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E7%94%9F%E6%88%90proto%E6%96%87%E4%BB%B6"><span class="nav-number">5.2.</span> <span class="nav-text">2、生成proto文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94%E3%80%81proto%E6%96%87%E4%BB%B6%E4%BF%AE%E6%94%B9"><span class="nav-number">6.</span> <span class="nav-text">五、proto文件修改</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E4%BF%AE%E6%94%B9mesh%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="nav-number">6.1.</span> <span class="nav-text">1、修改mesh文件路径</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E8%AE%BE%E7%BD%AE%E5%B9%B6%E8%81%94%E5%B1%9E%E6%80%A7"><span class="nav-number">6.2.</span> <span class="nav-text">2、设置并联属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E8%AE%BE%E7%BD%AE%E5%85%B3%E8%8A%82"><span class="nav-number">6.3.</span> <span class="nav-text">3、设置关节</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E9%85%8D%E7%BD%AE%E4%BC%A0%E6%84%9F%E5%99%A8"><span class="nav-number">6.4.</span> <span class="nav-text">4、配置传感器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%881%EF%BC%89%E9%85%8D%E7%BD%AEaltimeter"><span class="nav-number">6.4.1.</span> <span class="nav-text">（1）配置altimeter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AEaccelerometer"><span class="nav-number">6.4.2.</span> <span class="nav-text">（2）配置accelerometer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%EF%BC%883%EF%BC%89%E9%85%8D%E7%BD%AEinetial-unit"><span class="nav-number">6.4.3.</span> <span class="nav-text">（3）配置inetial unit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81proto%E5%AF%BC%E5%85%A5%E5%9C%A8webots%E4%B8%AD"><span class="nav-number">6.5.</span> <span class="nav-text">5、proto导入在webots中</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E3%80%81%E4%BF%AE%E6%94%B9bounding%E5%B1%9E%E6%80%A7%EF%BC%88%E9%9D%9E%E5%BF%85%E9%A1%BB%EF%BC%8C%E5%BE%85%E5%AE%8C%E5%96%84%EF%BC%89"><span class="nav-number">6.6.</span> <span class="nav-text">6*、修改bounding属性（非必须，待完善）</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="liukexin"
      src="/images/headphoto.jpg">
  <p class="site-author-name" itemprop="name">liukexin</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">6</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/yourname" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;yourname" rel="noopener me" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yourname@gmail.com" title="E-Mail → mailto:yourname@gmail.com" rel="noopener me" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://weibo.com/yourname" title="Weibo → https:&#x2F;&#x2F;weibo.com&#x2F;yourname" rel="noopener me" target="_blank"><i class="fab fa-weibo fa-fw"></i>Weibo</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.google.com/" title="Google → https:&#x2F;&#x2F;www.google.com" rel="noopener me" target="_blank"><i class="fab fa-google fa-fw"></i>Google</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/02/05/solidworks2urdf/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/headphoto.jpg">
      <meta itemprop="name" content="liukexin">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cauchy">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="一份基于solidworks导出urdf文件应用于webots仿真的说明文档 | Cauchy">
      <meta itemprop="description" content="这是一份将solidworks模型导出为urdf文件，并应用于webots仿真环境的说明文档">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          一份基于solidworks导出urdf文件应用于webots仿真的说明文档
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-02-05 15:06:02" itemprop="dateCreated datePublished" datetime="2025-02-05T15:06:02+08:00">2025-02-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-02-06 16:11:28" itemprop="dateModified" datetime="2025-02-06T16:11:28+08:00">2025-02-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%9C%BA%E5%99%A8%E4%BA%BA%E4%BB%BF%E7%9C%9F/" itemprop="url" rel="index"><span itemprop="name">机器人仿真</span></a>
        </span>
    </span>

  
    <span class="post-meta-break"></span>
    <span class="post-meta-item" title="本文字数">
      <span class="post-meta-item-icon">
        <i class="far fa-file-word"></i>
      </span>
      <span class="post-meta-item-text">本文字数：</span>
      <span>7k</span>
    </span>
    <span class="post-meta-item" title="阅读时长">
      <span class="post-meta-item-icon">
        <i class="far fa-clock"></i>
      </span>
      <span class="post-meta-item-text">阅读时长 &asymp;</span>
      <span>6 分钟</span>
    </span>
</div>

            <div class="post-description">这是一份将solidworks模型导出为urdf文件，并应用于webots仿真环境的说明文档</div>
        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="使用环境"><a href="#使用环境" class="headerlink" title="使用环境"></a>使用环境</h1><p>系统：Window 11</p>
<p>建模软件：solidworks 2021</p>
<p>仿真软件：matlab R2022a 以及 webots R2023a</p>
<p>参考文档：</p>
<h1 id="一、通过solidworks导出URDF文件配置"><a href="#一、通过solidworks导出URDF文件配置" class="headerlink" title="一、通过solidworks导出URDF文件配置"></a>一、通过solidworks导出URDF文件配置</h1><h2 id="1、建模软件插件安装"><a href="#1、建模软件插件安装" class="headerlink" title="1、建模软件插件安装"></a>1、建模软件插件安装</h2><p>默认已经安装好solidworks，需要在solidworks上安装导出urdf文件的插件，ROS目前提供了SolidWorks转URDF的插件，叫做sw_urdf_exporter。官网下载地址：<a target="_blank" rel="noopener" href="http://wiki.ros.org/sw_urdf_exporter">http://wiki.ros.org/sw_urdf_exporter</a>。根据对应的Solidworks版本下载双击安装即可（安装前关闭solidworks，如果你的Solidworks很新没有对应版本默认选择最新版本的插件来安装）。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-13.png"></p>
<p>安装好SolidWorks后，再安装这个插件，重新打开SW，点击菜单栏上方：工具-插件中会发现里面多了一个叫做SW2URDF的插件，勾选启用此插件。&#x20;</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-11.png"></p>
<p>接着在上方菜单栏：工具-Tools-Export as URDF中对装配体配置urdf文件</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-12.png"></p>
<h2 id="2、URDF文件导出前配置坐标系信息："><a href="#2、URDF文件导出前配置坐标系信息：" class="headerlink" title="2、URDF文件导出前配置坐标系信息："></a>2、URDF文件导出前配置坐标系信息：</h2><p>在导出URDF文件前需要配置坐标系。目前我们机器人基于<a target="_blank" rel="noopener" href="https://blog.csdn.net/inghoG/article/details/117881500">MDH参数法</a>来建立机器人模型，对于现有的A1.1模型，对于左腿，建立坐标系情况如下：</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-10.png"></p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-9.png"></p>
<p>坐标系0表示body坐标系，建立在两个电机轴线连线的中心上，以上方向为z轴，朝向前脸的方向为x轴，电机轴线从右电机到左电机的连接方向为y轴。</p>
<p>杆件的z轴方向均为其关节轴线方向朝外，x轴方向为从当前关节指向下一个关节。</p>
<p>对于关节1 2 4 5 6 其坐标系xoy平面均在同一平面，如下所示均建立在杆1的外表面上，对于坐标系3其xoy平面则建立在轮子两个表面的中间，这样做是保证在受力分析时轮子的支持力均在xoy平面内便于分析。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87.png"></p>
<p>对于右腿由于镜像关系如下所示，不再赘述。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-1.png"></p>
<p>在建立好坐标系后，则可以开始后续的urdf文件导出操作</p>
<h2 id="3、导出URDF文件"><a href="#3、导出URDF文件" class="headerlink" title="3、导出URDF文件"></a>3、导出URDF文件</h2><blockquote>
<p>在导出URDF文件前，务必将各个杆件，关节的质量属性设置正确</p>
</blockquote>
<p>在solidworks上方菜单栏中：工具-Tools-Export as URDF对模型导出URDF文件。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-2.png"></p>
<p>此界面是配置基座的相关信息：</p>
<p>1为定义基座名称，此处为base_link</p>
<p>2为定义基座坐标，这里未配置，需配置为<strong>坐标系0</strong></p>
<p>3处选择基座模型，在solidworks工作界面选择对应对应零件则高亮出</p>
<p>4为child links，表示在这个link下有几个子link，对应于此图有2个，分别为left_motor和right_motor。</p>
<p>5为此URDF结构，表示一个机器人的杆件之间的关系，是一个树形结构。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-3.png"></p>
<p>此界面是配置childlink的相关信息：</p>
<p>1为定义childlink名称，此处为<strong>left_leg1</strong></p>
<p>2为定义关节名称，必须定义否则导出前报错，此处命名为<strong>left_j1</strong></p>
<p>3为定义chlidlink坐标，这里配置为<strong>坐标系1</strong>，表示left_leg1是以此坐标系为参考坐标系</p>
<p>4处为参考轴，表示旋转或平移副的旋转或平移的方向，这里选择<strong>基准轴1</strong>，表示绕基准轴1来进行旋转。</p>
<p>5处定义关节类型，continuous表示旋转副，无关节限制，而revolute也表示旋转副，但有角度限制，其中也有移动副prismatic和固定副fixed，此处选择continuous</p>
<p>下表为<a target="_blank" rel="noopener" href="https://ehooj45utb.feishu.cn/file/boxcnoTqaWbTdOlckbDksZhYyQh">A1.1模型</a>在建模时的坐标系，转轴和关节配置选择。</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th><strong>joint_name</strong></th>
<th><strong>Reference Coordinate System</strong></th>
<th><strong>Reference Axis</strong></th>
<th><strong>Joint Type</strong></th>
</tr>
</thead>
<tbody><tr>
<td>base_link</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td>\</td>
<td>坐标系0</td>
<td>\</td>
<td>\</td>
</tr>
<tr>
<td></td>
<td>left_motor</td>
<td></td>
<td></td>
<td></td>
<td>left_j4</td>
<td>坐标系4</td>
<td>基准轴1</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td>left_leg1</td>
<td></td>
<td></td>
<td>left_j1</td>
<td>坐标系1</td>
<td>基准轴1</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>left_leg2</td>
<td></td>
<td>left_j2</td>
<td>坐标系2</td>
<td>基准轴2</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>left_wheel</td>
<td>left_j3</td>
<td>坐标系3</td>
<td>基准轴4</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td>left_leg3</td>
<td></td>
<td></td>
<td>left_j5</td>
<td>坐标系5</td>
<td>基准轴3</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td>right_motor</td>
<td></td>
<td></td>
<td></td>
<td>right_j4</td>
<td>坐标系14</td>
<td>基准轴1</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td>right_leg1</td>
<td></td>
<td></td>
<td>right_j1</td>
<td>坐标系11</td>
<td>基准轴1</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td>right_leg2</td>
<td></td>
<td>right_j2</td>
<td>坐标系12</td>
<td>基准轴2</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td>right_wheel</td>
<td>right_j3</td>
<td>坐标系13</td>
<td>基准轴4</td>
<td><strong>continuous</strong></td>
</tr>
<tr>
<td></td>
<td></td>
<td>right_leg3</td>
<td></td>
<td></td>
<td>right_j5</td>
<td>坐标系15</td>
<td>基准轴3</td>
<td><strong>continuous</strong></td>
</tr>
</tbody></table>
<p>由于urdf无法生成并联结构，后续在proto文件进行修改。因此此处建立每个关节之间的连接关系，如下图所示：</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-4.png"></p>
<p>在配置好坐标系，零件以及关节副等相关信息后，在URDF Exporter界面点击Preview and Export…按钮来导出URDF文件，如下界面：</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-5.png"></p>
<p>主要检查导出前的Joint Type是否正确，Coordinates和Axis是否如设置一样，Axis是否有数值（0，0，1或者0，0，-1，<strong>如果0，0，-1改为0，0，1</strong>）。检查无误后点击右下角Next。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-6.png"></p>
<p>此处来配置杆件的相关质量信息，一般需要提前在solidworks中设置好质量属性后，此处页面不用做修改。确认完毕后点击Export URDF and Meshes，选择导出路径以及导出文件名字diablo_robot后，点击<strong>保存</strong>即导出完毕。导出文件结构如下：</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-7.png"></p>
<p>meshes文件夹中包括各个模型的STL文件，urdf中则为导出的.urdf文件</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-8.png"></p>
<h1 id="二、检查导出urdf文件是否正确"><a href="#二、检查导出urdf文件是否正确" class="headerlink" title="二、检查导出urdf文件是否正确"></a>二、检查导出urdf文件是否正确</h1><h2 id="1、在线urdf可视化"><a href="#1、在线urdf可视化" class="headerlink" title="1、在线urdf可视化"></a>1、在线urdf可视化</h2><p><a target="_blank" rel="noopener" href="https://gkjohnson.github.io/urdf-loaders/javascript/example/bundle/">https://gkjohnson.github.io/urdf-loaders/javascript/example/bundle/</a></p>
<p><img src="/2025/02/05/solidworks2urdf/image.png"></p>
<p>将整个导出的文件夹拖拽到此网站，查看关节关系是否正确，如果转不动选择</p>
<p><img src="/2025/02/05/solidworks2urdf/image-1.png"></p>
<h2 id="1、通过matlab中的simscape来检查模型是否正确（非必须）（删除）"><a href="#1、通过matlab中的simscape来检查模型是否正确（非必须）（删除）" class="headerlink" title="1、通过matlab中的simscape来检查模型是否正确（非必须）（删除）"></a><del>1、通过matlab中的simscape来检查模型是否正确（非必须）（删除）</del></h2><p>为了快速检查下建立的urdf文件是否正确，通过matlab导入urdf模型的方式来检查，首先打开matlab，将导出的diablo_robot添加到路径，如下所示</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-14.png"></p>
<p>转到urdf所在文件目录，输入</p>
<pre class="line-numbers language-matlab" data-language="matlab"><code class="language-matlab"><span class="token function">smimport</span><span class="token punctuation">(</span>"diablo_robot<span class="token punctuation">.</span>urdf"<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>即可弹出simlink界面，点击运行弹出模型</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-15.png"></p>
<p>此处就是根据urdf在matlab中生成的模型，可以看到各个关节由于重力作用下是按照我们所配置的坐标系来进行旋转的。检查发现<strong>左腿</strong>的方向错误，因此需要修改，分析是由于从body到左腿的motor的坐标转换的方向不对所导致的（在图形显示界面点击对应零件可显示对应零件的坐标系，检查此处是因为绕x轴的旋转角度错误）。</p>
<p>打开diablo_robot.urdf文件，找到对应left_j4，如下所示</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>link</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>joint</span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left_j4<span class="token punctuation">"</span></span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continuous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>origin</span>
    <span class="token attr-name">xyz</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0.18755 0<span class="token punctuation">"</span></span>
    <span class="token attr-name">rpy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.5708 1.5708 0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span>
    <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>base_link<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span>
    <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left_motor<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>axis</span>
    <span class="token attr-name">xyz</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 -1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>joint</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>将其中的rpy中的第一项修改，表示绕x旋转角度，改为如下所示</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>link</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>joint</span>
  <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left_j4<span class="token punctuation">"</span></span>
  <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>continuous<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>origin</span>
    <span class="token attr-name">xyz</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0.18755 0<span class="token punctuation">"</span></span>
    <span class="token attr-name">rpy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>-1.5708 1.5708 0<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span>
    <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>base_link<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>child</span>
    <span class="token attr-name">link</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>left_motor<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>axis</span>
    <span class="token attr-name">xyz</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0 0 -1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>joint</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>再打开matlab导入urdf模型，检查看问题解决~</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-16.png"></p>
<h1 id="三、新建一个Webots工程"><a href="#三、新建一个Webots工程" class="headerlink" title="三、新建一个Webots工程"></a>三、新建一个Webots工程</h1><h2 id="1、webots安装"><a href="#1、webots安装" class="headerlink" title="1、webots安装"></a>1、webots安装</h2><p>首先介绍webots的安装，直接在<a target="_blank" rel="noopener" href="https://www.cyberbotics.com/">官网下载</a>。点击后弹出页面向下拉选择webots-R2023.setup.exe，下载后直接双击安装，选择对应安装路径即可。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-17.png"></p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-18.png"></p>
<h2 id="2、新建一个webots工程"><a href="#2、新建一个webots工程" class="headerlink" title="2、新建一个webots工程"></a>2、新建一个webots工程</h2><p>（1）双击打开安装好的webots，在Tools-Preferences…中设置界面语言为简体中文。点击ok后重启软件。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-19.png"></p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-20.png"></p>
<p>（2）点击”文件-New-新项目目录…”，创建新项目目录</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-21.png"></p>
<p>选择新项目目录所在文件夹</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-22.png"></p>
<p>设置世界的名称，以及初始化时所带的特征，<strong>全选</strong>，点击下一步。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-23.png"></p>
<p>点击完成，等待一下即可弹出一个地板，（鼠标左键放在地板上按住拖动鼠标即可改变视角方向）。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-24.png"></p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-25.png"></p>
<ul>
<li><p>注意要保存（Ctrl+Shift+S），默认建立工程会启动仿真，点击上方的暂停按钮来暂停仿真</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-26.png"></p>
</li>
</ul>
<h2 id="3、将生成的urdf文件导入在webots工程文件夹下"><a href="#3、将生成的urdf文件导入在webots工程文件夹下" class="headerlink" title="3、将生成的urdf文件导入在webots工程文件夹下"></a>3、将生成的urdf文件导入在webots工程文件夹下</h2><p>首先先将通过solidworks生成了一个名为<strong>diablo_robot</strong>的文件夹，里面包括了mesh文件和urdf文件。将整个<strong>diablo_robot</strong>文件夹剪切到新建webots工程目录my_project下，如下所示，为后续生成proto文件做铺垫。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-27.png"></p>
<h1 id="四、生成用于webots仿真中的proto模型"><a href="#四、生成用于webots仿真中的proto模型" class="headerlink" title="四、生成用于webots仿真中的proto模型"></a>四、生成用于webots仿真中的proto模型</h1><h2 id="1、安装urdf2webots"><a href="#1、安装urdf2webots" class="headerlink" title="1、安装urdf2webots"></a>1、安装urdf2webots</h2><p>（1）安装python：<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin/_49237144/article/details/122915089">https://blog.csdn.net/weixin\_49237144/article/details/122915089</a></p>
<p>（2）urdf2webots安装：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># webots版本>R2023b</span>
pip <span class="token function">install</span> <span class="token assign-left variable">urdf2webots</span><span class="token operator">==</span><span class="token number">2023.1</span>.0 <span class="token comment"># 参照官网教程：https://github.com/cyberbotics/urdf2webots</span>
<span class="token comment">#如果webots版本为R2023a</span>
pip <span class="token function">install</span> <span class="token assign-left variable">urdf2webots</span><span class="token operator">==</span><span class="token number">2.0</span>.3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>默认webots版本为R2023a，如果版本不相同，下载下方源码，解压后使用下列命令安装</p>
<pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">pip install --upgrade --editable urdf2webots<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><a href="files/urdf2webots.zip">urdf2webots.zip</a></p>
<h2 id="2、生成proto文件"><a href="#2、生成proto文件" class="headerlink" title="2、生成proto文件"></a>2、生成proto文件</h2><p>打开webtos工程下urdf文件所在目录.\diablo_robot\urdf，右键点击在终端中输入</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python <span class="token parameter variable">-m</span> urdf2webots.importer <span class="token parameter variable">--input</span><span class="token operator">=</span>diablo_robot.urdf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-28.png"></p>
<p>即可在对应文件夹内生成proto文件</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-29.png"></p>
<h1 id="五、proto文件修改"><a href="#五、proto文件修改" class="headerlink" title="五、proto文件修改"></a>五、proto文件修改</h1><p>官网教程：<a target="_blank" rel="noopener" href="https://cyberbotics.com/doc/reference/proto-design-guidelines?version=R2023a">https://cyberbotics.com/doc/reference/proto-design-guidelines?version=R2023a</a></p>
<p>可以通过记事本打开proto文件，不过在VScode中有对应的proto文件查看插件，可以实现语法高亮。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-30.png"></p>
<h2 id="1、修改mesh文件路径"><a href="#1、修改mesh文件路径" class="headerlink" title="1、修改mesh文件路径"></a>1、修改mesh文件路径</h2><p>在windows环境下导出proto文件中，mesh文件路径（也就是对应的STL文件）会存在错误，如下所示，将对应url修改为相对路径解决</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Shape <span class="token punctuation">&#123;</span>
  appearance DEF base_link_material PBRAppearance <span class="token punctuation">&#123;</span>
    baseColor 0.627450 0.627450 0.627450
    roughness 1.000000
    metalness 0
  <span class="token punctuation">&#125;</span>
  geometry DEF base_link Mesh <span class="token punctuation">&#123;</span>
    url "E<span class="token punctuation">:</span>\Projects\Webots\diablo_A1\diablo_robot/diablo_robot2/meshes/base_link.STL"
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>改为：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">url "../diablo_robot/diablo_robot2/meshes/base_link.STL"<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>对于其他杆件的url以同样的方式进行处理</p>
<h2 id="2、设置并联属性"><a href="#2、设置并联属性" class="headerlink" title="2、设置并联属性"></a>2、设置并联属性</h2><p>在webots中，通过设置SolidReference属性来设置并联关系，在本案例中，对于left_leg3而言是通过转动副（HingeJoint）与left_leg2相连接的。铰接的位置相对于left_leg3的坐标系用anchor表示，方向用axis表示。在本案例中axis为0 0 1，anchor为0.14.</p>
<p>因此设置SolidReference中solidName 为 left_leg2，表示铰接在left_leg2上。</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">HingeJoint <span class="token punctuation">&#123;</span>
    jointParameters HingeJointParameters <span class="token punctuation">&#123;</span>
        axis 0.000000 0.000000 1.000000
        anchor 0.140000 0.000000 0.00000
        <span class="token punctuation">&#125;</span>
endPoint SolidReference <span class="token punctuation">&#123;</span>
    solidName "left_leg2"
    <span class="token punctuation">&#125;</span>        
<span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>编辑好上述信息后，打开DiabloRobot.proto，将其复制在endPoint Solid的Shape节点为left_leg3的同级节点下，如下图所示</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-31.png"></p>
<p>对于right_leg3也同样处理，只不过需要注意在SolidName中改为 right_leg2。</p>
<h2 id="3、设置关节"><a href="#3、设置关节" class="headerlink" title="3、设置关节"></a>3、设置关节</h2><p>由于默认导出urdf文件时，除了会赋予Joint的位置信息（JointParameters），还会赋予关节的device信息，device一般包括电机（Motor）和位置传感器（PositionSensor），如下图所示</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-32.png"></p>
<p>对于我们的模型而言，只有关节left_j1、left_j4、left_j3和right_j1、right_j4、right_j3是<strong>主动关节</strong>，其他的关节属于<strong>被动关节</strong>。因此需要对于我们的关节信息做一定修改，即将对应device信息中的Motor信息删除或者注释掉，如下所示：</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-33.png"></p>
<p>通过这种方式来设置出我们需要的<strong>主动关节</strong>。</p>
<h2 id="4、配置传感器"><a href="#4、配置传感器" class="headerlink" title="4、配置传感器"></a>4、配置传感器</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">GPS <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
Gyro <span class="token punctuation">&#123;</span>
<span class="token punctuation">&#125;</span>
InertialUnit <span class="token punctuation">&#123;</span>
  name <span class="token string">"imu"</span>
<span class="token punctuation">&#125;</span>
Accelerometer <span class="token punctuation">&#123;</span>
  name <span class="token string">"accl"</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="（1）配置altimeter"><a href="#（1）配置altimeter" class="headerlink" title="（1）配置altimeter"></a>（1）配置altimeter</h3><p>在Robot的children节点下插入</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Altimeter <span class="token punctuation">&#123;</span>
  translation 0 0 0
  rotation 0 0 1 0 <span class="token comment">#定义altimeter相对机器人位置及姿态</span>
  name "altimeter" <span class="token comment">#定义altimeter名字</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="（2）配置accelerometer"><a href="#（2）配置accelerometer" class="headerlink" title="（2）配置accelerometer"></a>（2）配置accelerometer</h3><p>在Robot的children节点下插入</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">Accelerometer <span class="token punctuation">&#123;</span>
  translation 0 0 0
  rotation 0 0 1 0 <span class="token comment">#定义altimeter相对机器人位置及姿态</span>
  name "accelerometer" <span class="token comment">#定义accelerometer名字</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="（3）配置inetial-unit"><a href="#（3）配置inetial-unit" class="headerlink" title="（3）配置inetial unit"></a>（3）配置inetial unit</h3><p>在Robot的children节点下插入</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">InertialUnit <span class="token punctuation">&#123;</span>
  translation 0 0 0
  rotation 0 0 1 0 <span class="token comment">#定义inetial unit相对机器人位置及姿态</span>
  name "inetial unit" <span class="token comment">#定义inetial unit名字</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="5、proto导入在webots中"><a href="#5、proto导入在webots中" class="headerlink" title="5、proto导入在webots中"></a>5、proto导入在webots中</h2><p>将编辑好的proto文件复制在我们创建好的webots工程文件夹中的&#x2F;protos中，双击打开&#x2F;worlds中我们创建好的世界new_world，按照1，2，3，4的顺序依次点击，即将我们的proto文件导入在了webots环境中。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-34.png"></p>
<p>如果在webots中的命令行中出现这个，表示我们的proto文件的存在不合理字符，打开文件则发现设置的路径有问题</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-35.png"></p>
<p>接着导入模型到我们的仿真界面，在<strong>暂停</strong>仿真状态下，依次点击1，2，3即可看到模型导入在了环境中</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-36.png"></p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-37.png"></p>
<p>如果导入进来啥都没有，多半是由于设置的mesh路径错误，修改.proto文件中的url即可。</p>
<h2 id="6-、修改bounding属性（非必须，待完善）"><a href="#6-、修改bounding属性（非必须，待完善）" class="headerlink" title="6*、修改bounding属性（非必须，待完善）"></a>6*、修改bounding属性（非必须，待完善）</h2><p>通过urdf导出的proto文件默认bounding属性默认是将三维软件模型直接mesh来作为边界，如下所示，白色的线就是这个机器人的接触边界。但是这种接触边界很复杂，会降低我们的仿真求解速度，因此需要一点的简化。</p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-38.png"></p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">boundingObject USE right_wheel <span class="token comment">#默认在proto文件中，bounding为对应杆件三维模型的mesh形状</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>（1）修改轮子</p>
<p>将right_wheel修改为圆柱体，如下所示：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">boundingObject Cylinder<span class="token punctuation">&#123;</span>
    height 0.052
    radius 0.0935
    subdivision 32 <span class="token comment"># in range [16,1000] </span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>修改后，点击菜单栏刷新，查看diablo_robot</p>
<p><img src="/"></p>
<p><img src="/2025/02/05/solidworks2urdf/%E5%9B%BE%E7%89%87-40.png"></p>
<p>可以看到接触边界已经修改，调整subdivision来改变圆柱面精度，这里设置为32。</p>
<p>（2）修改杆件</p>
<p>对于较为复杂的杆件结构，我们通过建立group以及transform，例如，对于right_leg1，其bounding属性修改为：</p>
<pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml">boundingObject Group <span class="token punctuation">&#123;</span>
    children <span class="token punctuation">[</span>
        Transform <span class="token punctuation">&#123;</span>
            translation 0 0 0.015
            children <span class="token punctuation">[</span>
                Cylinder <span class="token punctuation">&#123;</span>
                    height 0.016
                    radius 0.0305
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
        Transform <span class="token punctuation">&#123;</span>
            translation 0 0 0
<span class="token comment">#            rotation 0 0 1 0</span>
            children <span class="token punctuation">[</span>
                Box <span class="token punctuation">&#123;</span>
                    size 0.12 0.020 0.016
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/webots/" rel="tag"># webots</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/02/05/hexo%E6%8A%98%E8%85%BE%E6%97%A5%E8%AE%B0/" rel="prev" title="hexo折腾日记">
                  <i class="fa fa-angle-left"></i> hexo折腾日记
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/02/05/docker/docker%E5%9C%A8arm%E4%B8%8B%E5%AE%89%E8%A3%85/" rel="next" title="docker在arm架构下安装">
                  docker在arm架构下安装 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">liukexin</span>
  </div>
<div class="wordcount">
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-line"></i>
    </span>
    <span title="站点总字数">15k</span>
  </span>
  <span class="post-meta-item">
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="站点阅读时长">13 分钟</span>
  </span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/yourname" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/sidebar.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
